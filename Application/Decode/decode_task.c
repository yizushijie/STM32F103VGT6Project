#include "decode_task.h"

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：解码器的初始化
//////////////////////////////////////////////////////////////////////////////
void DecodeTask_Init(void)
{
	DecodeLib_Init();
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void DecodeTask_ActivateSites(UINT8_T activateSites)
{
	DecodeLib_ActivateSites(activateSites);
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void DecodeTask_START(void)
{
	DecodeLib_START();
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void DecodeTask_STOP(void)
{
	DecodeLib_STOP();
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
UINT8_T DecodeTask_ScanRST(void)
{
	return DecodeLib_ScanRST();
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void DecodeTask_IRQTask(void)
{
	DecodeLib_IRQTask();
}

///////////////////////////////////////////////////////////////////////////////
//////函		数：
//////功		能：
//////输入参数:
//////输出参数:
//////说		明：
//////////////////////////////////////////////////////////////////////////////
void DecodeTask_Quency(UINT8_T activateSites)
{
	//---计算激活的SITE数据
	DecodeTask_ActivateSites(activateSites);

	//---启动解码
	DecodeTask_START();

	//---等待SOT变高，等待结束
	while (KeyTask_GetSOT() != 0)
	{
		DecodeLib_Quency();

		//---喂狗
		WDT_RESET();
	}

	//---关闭解码
	DecodeTask_STOP();
}